<script lang="ts">
	import formSubmitted from '$lib/store/formSubmited';

	export let disableForms: () => void;
	let socialBlock: Element;
	let faceBook: Element;
	let google: Element;
	let apple: Element;
	let gitHub: Element;

	function animate(button: Element) {
		if ($formSubmitted) return;
		disableForms();
		let socials = [faceBook, google, apple, gitHub];
		socials.forEach((socialButton) => {
			if (socialButton != button) {
				socialButton.classList.add('fadeOut');
				setTimeout(() => {
					socialButton.classList.add('hidden');
					button.classList.add('loading');
				}, 1001);
			}
		});

		return null;
	}
</script>

<div bind:this={socialBlock} class="flex h-2/3 justify-evenly">
	<!-- google  -->
	<button on:click={animate(google)} bind:this={google} class="relative h-full p-0 inline-block">
		<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" height="100%" viewBox="0 0 48 48">
			<path
				fill="#fbc02d"
				d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12	s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20	s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"
			/><path
				fill="#e53935"
				d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039	l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"
			/><path
				fill="#4caf50"
				d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"
			/><path
				fill="#1565c0"
				d="M43.611,20.083L43.595,20L42,20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"
			/>
		</svg>
	</button>
	<!-- apple  -->
	<button on:click={animate(apple)} bind:this={apple} class="relative inline-block">
		<svg
			class="m-0"
			xmlns="http://www.w3.org/2000/svg"
			x="0px"
			y="0px"
			height="100%"
			viewBox="0,0,256,256"
		>
			<g
				fill="none"
				fill-rule="nonzero"
				stroke="none"
				stroke-width="1"
				stroke-linecap="butt"
				stroke-linejoin="miter"
				stroke-miterlimit="10"
				stroke-dasharray=""
				stroke-dashoffset="0"
				font-family="none"
				font-weight="none"
				font-size="none"
				text-anchor="none"
				style="mix-blend-mode: normal"
				><g transform="scale(8.53333,8.53333)"
					><path
						d="M26.625,21.46c-0.636,1.376 -0.941,1.991 -1.757,3.206c-1.141,1.698 -2.753,3.817 -4.745,3.832c-1.771,0.014 -2.228,-1.13 -4.632,-1.112c-2.403,0.012 -2.904,1.133 -4.678,1.113c-1.991,-0.016 -3.516,-1.926 -4.658,-3.62c-1.828,-2.722 -2.598,-5.711 -2.657,-8.326c-0.044,-1.953 0.256,-3.698 1.1,-4.965c1.397,-2.102 3.607,-3.088 5.681,-3.088c2.113,0 3.441,1 5.187,1c1.697,0 2.729,-1 5.172,-1c1.848,0 3.803,0.734 5.198,2.431c-4.567,2.446 -3.826,8.822 0.789,10.529z"
						fill="#1c1c1c"
					/><path
						d="M10.86,29h-0.051c-2.195,-0.019 -3.793,-1.952 -5.066,-3.84c-1.702,-2.533 -2.676,-5.584 -2.743,-8.595c-0.049,-2.231 0.349,-3.999 1.183,-5.253c1.377,-2.074 3.655,-3.312 6.096,-3.312c1.182,0 2.145,0.296 2.994,0.558c0.739,0.227 1.436,0.442 2.193,0.442c0.691,0 1.271,-0.189 1.941,-0.407c0.852,-0.278 1.819,-0.593 3.231,-0.593c2.183,0 4.218,0.952 5.585,2.613l0.387,0.471l-0.537,0.288c-1.895,1.015 -2.94,2.862 -2.797,4.941c0.147,2.137 1.497,3.929 3.522,4.679l0.507,0.188l-0.227,0.491c-0.647,1.401 -0.97,2.046 -1.795,3.275c-1.34,1.995 -3,4.037 -5.156,4.053c0,0 0,0 -0.001,0c-0.941,0 -1.551,-0.273 -2.141,-0.537c-0.631,-0.283 -1.285,-0.575 -2.435,-0.575c-1.236,0.006 -1.911,0.299 -2.564,0.583c-0.599,0.259 -1.22,0.529 -2.126,0.53zM10.279,9c-2.104,0 -4.072,1.071 -5.263,2.865c-0.719,1.081 -1.061,2.655 -1.016,4.677c0.063,2.822 0.977,5.684 2.572,8.058c1.127,1.672 2.514,3.384 4.247,3.398l0.042,0.5v-0.498c0.698,0 1.176,-0.208 1.729,-0.448c0.711,-0.309 1.517,-0.658 2.901,-0.665h0.001c1.424,0 2.21,0.352 2.903,0.662c0.539,0.241 1.005,0.45 1.698,0.45c1.728,-0.013 3.236,-1.937 4.361,-3.611c0.693,-1.031 1.003,-1.608 1.499,-2.666c-2.121,-0.984 -3.512,-2.986 -3.674,-5.34c-0.157,-2.275 0.873,-4.315 2.778,-5.568c-1.157,-1.16 -2.737,-1.814 -4.419,-1.814c-1.253,0 -2.101,0.276 -2.921,0.543c-0.72,0.235 -1.401,0.457 -2.251,0.457c-0.907,0 -1.71,-0.247 -2.487,-0.486c-0.82,-0.253 -1.668,-0.514 -2.7,-0.514z"
						fill="#c4c4c5"
					/><g
						><path
							d="M19.097,5.054c0.952,-1.183 1.666,-2.843 1.403,-4.544c-1.552,0.104 -3.36,1.054 -4.421,2.296c-0.962,1.133 -1.759,2.814 -1.448,4.442c1.694,0.052 3.448,-0.925 4.466,-2.194z"
							fill="#1c1c1c"
						/><path
							d="M14.76,7.75v0l-0.545,-0.015l-0.075,-0.393c-0.295,-1.546 0.288,-3.362 1.558,-4.859c1.166,-1.366 3.083,-2.359 4.769,-2.472l0.458,-0.03l0.07,0.453c0.252,1.631 -0.298,3.43 -1.508,4.934c-1.161,1.446 -3.017,2.382 -4.727,2.382zM20.052,1.068c-1.297,0.232 -2.717,1.036 -3.593,2.063c-0.372,0.438 -1.501,1.92 -1.391,3.606c1.316,-0.107 2.745,-0.882 3.638,-1.996c0.449,-0.557 1.414,-1.964 1.346,-3.673z"
							fill="#c4c4c5"
						/></g
					></g
				></g
			>
		</svg>
	</button>
	<!-- git hub  -->
	<button on:click={animate(gitHub)} bind:this={gitHub} class="relative inline-block">
		<svg
			class="m-0"
			xmlns="http://www.w3.org/2000/svg"
			x="0px"
			y="0px"
			height="100%"
			viewBox="0 0 24 24"
		>
			<path
				d="M10.9,2.1c-4.6,0.5-8.3,4.2-8.8,8.7c-0.5,4.7,2.2,8.9,6.3,10.5C8.7,21.4,9,21.2,9,20.8v-1.6c0,0-0.4,0.1-0.9,0.1 c-1.4,0-2-1.2-2.1-1.9c-0.1-0.4-0.3-0.7-0.6-1C5.1,16.3,5,16.3,5,16.2C5,16,5.3,16,5.4,16c0.6,0,1.1,0.7,1.3,1c0.5,0.8,1.1,1,1.4,1 c0.4,0,0.7-0.1,0.9-0.2c0.1-0.7,0.4-1.4,1-1.8c-2.3-0.5-4-1.8-4-4c0-1.1,0.5-2.2,1.2-3C7.1,8.8,7,8.3,7,7.6c0-0.4,0-0.9,0.2-1.3 C7.2,6.1,7.4,6,7.5,6c0,0,0.1,0,0.1,0C8.1,6.1,9.1,6.4,10,7.3C10.6,7.1,11.3,7,12,7s1.4,0.1,2,0.3c0.9-0.9,2-1.2,2.5-1.3 c0,0,0.1,0,0.1,0c0.2,0,0.3,0.1,0.4,0.3C17,6.7,17,7.2,17,7.6c0,0.8-0.1,1.2-0.2,1.4c0.7,0.8,1.2,1.8,1.2,3c0,2.2-1.7,3.5-4,4 c0.6,0.5,1,1.4,1,2.3v2.6c0,0.3,0.3,0.6,0.7,0.5c3.7-1.5,6.3-5.1,6.3-9.3C22,6.1,16.9,1.4,10.9,2.1z"
			/>
		</svg>
	</button>
	<!-- facebook  -->
	<button on:click={animate(faceBook)} bind:this={faceBook} class="relative inline-block">
		<svg
			class="m-0"
			xmlns="http://www.w3.org/2000/svg"
			x="0px"
			y="0px"
			height="100%"
			viewBox="0 0 48 48"
		>
			<linearGradient
				id="awSgIinfw5_FS5MLHI~A9a_yGcWL8copNNQ_gr1"
				x1="6.228"
				x2="42.077"
				y1="4.896"
				y2="43.432"
				gradientUnits="userSpaceOnUse"
				><stop offset="0" stop-color="#0d61a9" /><stop
					offset="1"
					stop-color="#16528c"
				/></linearGradient
			><path
				fill="url(#awSgIinfw5_FS5MLHI~A9a_yGcWL8copNNQ_gr1)"
				d="M42,40c0,1.105-0.895,2-2,2H8c-1.105,0-2-0.895-2-2V8c0-1.105,0.895-2,2-2h32	c1.105,0,2,0.895,2,2V40z"
			/><path
				d="M25,38V27h-4v-6h4v-2.138c0-5.042,2.666-7.818,7.505-7.818c1.995,0,3.077,0.14,3.598,0.208	l0.858,0.111L37,12.224L37,17h-3.635C32.237,17,32,18.378,32,19.535V21h4.723l-0.928,6H32v11H25z"
				opacity=".05"
			/><path
				d="M25.5,37.5v-11h-4v-5h4v-2.638c0-4.788,2.422-7.318,7.005-7.318c1.971,0,3.03,0.138,3.54,0.204	l0.436,0.057l0.02,0.442V16.5h-3.135c-1.623,0-1.865,1.901-1.865,3.035V21.5h4.64l-0.773,5H31.5v11H25.5z"
				opacity=".07"
			/><path
				fill="#fff"
				d="M33.365,16H36v-3.754c-0.492-0.064-1.531-0.203-3.495-0.203c-4.101,0-6.505,2.08-6.505,6.819V22h-4v4	h4v11h5V26h3.938l0.618-4H31v-2.465C31,17.661,31.612,16,33.365,16z"
			/>
		</svg>
	</button>
</div>

<style>
	button {
		transition: all 0.3s ease;
	}
	:global(.loading) {
		animation: loading 1s infinite alternate ease-in-out;
	}
	:global(.fadeOut) {
		animation: fadeOutAnime 1.4s ease-out;
	}
	@keyframes fadeOutAnime {
		from {
			transform: scale(1.2, 1.2);
		}
		to {
			transform: scale(0.1, 0.1);
		}
	}
	@keyframes -global-socialbox {
		100% {
			justify-content: center;
		}
	}
	@keyframes -global-loading {
		0% {
			box-shadow: 0px 0px 17px 4px rgba(175, 157, 217, 0.75);
			-webkit-box-shadow: 0px 0px 17px 4px rgba(175, 157, 217, 0.75);
			-moz-box-shadow: 0px 0px 17px 4px rgba(175, 157, 217, 0.75);
		}
		50% {
			box-shadow: 0px 0px 17px 4px rgba(69, 24, 165, 0.75);
			-webkit-box-shadow: 0px 0px 17px 4px rgba(56, 9, 160, 0.75);
			-moz-box-shadow: 0px 0px 17px 4px rgba(56, 9, 160, 0.75);
		}
		100% {
			box-shadow: 0px 0px 17px 4px rgba(50, 8, 144, 0.75);
			-webkit-box-shadow: 0px 0px 17px 4px rgba(50, 8, 144, 0.75);
			-moz-box-shadow: 0px 0px 17px 4px rgba(50, 8, 144, 0.75);
		}
	}
</style>
